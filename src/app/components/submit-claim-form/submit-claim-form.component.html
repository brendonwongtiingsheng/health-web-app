<div class="submit-form-page">
  <!-- Success Page -->
  <div class="success-page" *ngIf="showSuccessPage">
    <div class="success-header">
      <button class="close-btn" (click)="closeSuccessPage()" aria-label="Close">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
          <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>

    <div class="success-content">
      <div class="success-illustration">
        <img src="assets/Illustration_APE.png" alt="Success" class="success-image">
      </div>

      <div class="success-message">
        <p>Thank you for your submission. We've received it and will handle it with care and priority.</p>
      </div>

      <div class="claim-details">
        <div class="claim-header">
          <h3 class="claim-type">{{ submissionData.claimType }}</h3>
          <div class="status-badge">
            <div class="status-dot"></div>
            <span class="status-text">Under review</span>
          </div>
        </div>

        <div class="claim-info">
          <div class="info-row">
            <span class="info-label">Ref. no</span>
            <span class="info-value">{{ submissionData.refNo }}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Life insured</span>
            <span class="info-value">{{ submissionData.lifeInsured }}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Submission date</span>
            <span class="info-value">{{ submissionData.submissionDate }}</span>
          </div>
        </div>
      </div>

      <div class="success-note">
        <p>We will keep you updated on the status of your claim submission. You can also track your claim in the Claim History section.</p>
      </div>

      <div class="success-actions">
        <button class="view-claim-btn" (click)="viewMyClaim()">
          View my claim
        </button>
      </div>
    </div>
  </div>

  <!-- Main Form Content (hidden when success page is shown) -->
  <div *ngIf="!showSuccessPage">
  <!-- Header -->
  <header class="header">
    <button class="back-btn" (click)="goBack()" aria-label="Back">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <h1 class="header-title">{{ currentStep === 4 ? 'Review your claim' : 'File a claim' }}</h1>
  </header>

  <!-- Progress Step -->
  <div class="progress-container">
    <div class="progress-bar">
      <div class="progress-step" (click)="toggleInformation()">
        <div class="step-number" [class.filled]="currentStep >= 1" [class.empty]="currentStep < 1">1</div>
        <span class="step-text" *ngIf="currentStep === 1">Your information</span>
        <div class="step-number" [class.filled]="currentStep >= 2" [class.empty]="currentStep < 2">2</div>
        <span class="step-text" *ngIf="currentStep === 2">Claim event information</span>
        <div class="step-number" [class.filled]="currentStep >= 3" [class.empty]="currentStep < 3">3</div>
        <span class="step-text" *ngIf="currentStep === 3">Documents</span>
        <div class="step-number" [class.filled]="currentStep >= 4" [class.empty]="currentStep < 4">4</div>
        <svg class="step-arrow" [class.expanded]="isInformationExpanded" width="16" height="16" viewBox="0 0 24 24" fill="none">
          <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
    </div>
  </div>

  <!-- Form Content -->
  <div class="form-container" [class.collapsed]="!isInformationExpanded">
    <!-- Step 1: Your Information -->
    <div *ngIf="currentStep === 1">
      <!-- Who are you making this claim for? -->

        <h2 class="section-title">Who are you making this claim for?</h2>
        
        <div class="radio-group">
          <label class="radio-option">
            <input type="radio" name="claimFor" value="myself">
            <span class="radio-custom"></span>
            <span class="radio-text">Myself</span>
          </label>
          
          <label class="radio-option">
            <input type="radio" name="claimFor" value="someone-else" checked>
            <span class="radio-custom"></span>
            <span class="radio-text">Someone else</span>
          </label>
        </div>

      <!-- Insured Information -->
        <div class="form-group">
          <label class="form-label">Insured name</label>
          <select class="form-select">
            <option value="sok-akra">Sok Akra</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Contact number</label>
          <input type="text" class="form-input" [value]="userInfo.contactNumber" readonly>
        </div>

        <button class="edit-btn" (click)="openContactEditModal()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M12 20h9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Edit contact number
        </button>

      <!-- Payment Information -->
        <h2 class="section-title">Payment information</h2>
        
        <div class="payment-info">
          <div class="payment-row">
            <div class="payment-field">
              <label class="payment-label">Bank name</label>
              <div class="payment-value">{{ paymentInfo.bankName }}</div>
            </div>
            <div class="payment-field">
              <label class="payment-label">Bank account number</label>
              <div class="payment-value">{{ paymentInfo.bankAccountNumber }}</div>
            </div>
          </div>
          
          <div class="payment-field">
            <label class="payment-label">CauseHolder's name of event</label>
            <div class="payment-value">{{ paymentInfo.accountHolderName }}</div>
          </div>
        </div>

        <button class="edit-btn" (click)="openBankEditModal()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M12 20h9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Edit bank account
        </button>
    </div>

    <!-- Step 3: Documents Upload -->
    <div *ngIf="currentStep === 3">
      <div class="documents-upload-section">

        <h2 class="section-title">{{ getDocumentSectionTitle() }}</h2>
        <p class="section-description">These are required documents that you need to submit to be able to file a claim request.</p>
        
        <div class="upload-info">
          <p class="upload-limit">You may upload up to <strong>15 files</strong>, each with a <strong>maximum size of 20MB</strong>. We accept <strong>JPG, PNG, and PDF formats</strong>.</p>
        </div>

        <div class="sample-document-link">
          <button class="sample-btn" (click)="viewSampleDocument()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
              <path d="M9,9h0a3,3,0,0,1,6,0c0,2-3,3-3,3" stroke="currentColor" stroke-width="2"/>
              <path d="M12,17h0" stroke="currentColor" stroke-width="2"/>
            </svg>
            View sample document
          </button>
        </div>

        <!-- Dynamic document categories based on selected claim type -->
        <div class="document-category" *ngIf="selectedClaimType === 'medicash'">
          <h3 class="document-category-title">Medical documents</h3>
          <p class="document-description">Upload all necessary documents to support the claim.</p>

          <!-- Medical Discharge Summary/Letter -->
          <div class="document-type">
            <h4 class="document-type-title">Medical Discharge Summary/Letter</h4>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('medical-discharge')">
              <input type="file" 
                     id="medical-discharge-upload" 
                     (change)="onFileSelected($event, 'medical-discharge')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="medical-discharge-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['medical-discharge']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('medical-discharge', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('medical-discharge')" class="add-more-files">
              <input type="file" 
                     id="medical-discharge-upload-more" 
                     (change)="onFileSelected($event, 'medical-discharge')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="medical-discharge-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">This document requires hospital/clinic official stamp and signature of the Attending Physician.</p>
          </div>

          <!-- Hospital Receipt/Invoice -->
          <div class="document-type">
            <h4 class="document-type-title">Hospital Receipt/Invoice</h4>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('hospital-receipt')">
              <input type="file" 
                     id="hospital-receipt-upload" 
                     (change)="onFileSelected($event, 'hospital-receipt')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="hospital-receipt-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['hospital-receipt']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('hospital-receipt', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('hospital-receipt')" class="add-more-files">
              <input type="file" 
                     id="hospital-receipt-upload-more" 
                     (change)="onFileSelected($event, 'hospital-receipt')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="hospital-receipt-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">Hospital billing which is charged the patient for all service including room and board, ICU service, etc.</p>
          </div>

          <!-- Attended Physician's Statement Form - Information Box -->
          <div class="document-info-box">
            <div class="document-info-header">
              <h4 class="document-info-title">Attended Physician's Statement Form</h4>
              <button class="download-btn" (click)="downloadForm('physician-statement')">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2"/>
                  <polyline points="7,10 12,15 17,10" stroke="currentColor" stroke-width="2"/>
                  <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>
            <p class="document-info-description">This form should be completed by the attending physician to assist in supporting the claim.</p>
          </div>

          <!-- Supporting documents -->
          <div class="document-type">
            <h4 class="document-type-title">Supporting documents</h4>
            <h5 class="document-subtitle">Evidence of medical treatment and diagnosis documents</h5>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('supporting-documents')">
              <input type="file" 
                     id="supporting-documents-upload" 
                     (change)="onFileSelected($event, 'supporting-documents')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="supporting-documents-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['supporting-documents']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('supporting-documents', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('supporting-documents')" class="add-more-files">
              <input type="file" 
                     id="supporting-documents-upload-more" 
                     (change)="onFileSelected($event, 'supporting-documents')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="supporting-documents-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">This document requires hospital/clinic official stamp and signature of the Attending Physician.</p>
          </div>

          <div class="medical-note">
            <p><strong>Note:</strong> All medical treatment documents such as Doctor certificate, Radiography report, and all laboratory results are required.</p>
          </div>
        </div>

        <!-- Documents for Total disability claim type -->
        <div class="document-category" *ngIf="selectedClaimType === 'total-disability'">
          <h3 class="document-category-title">Medical documents</h3>
          <p class="document-description">If the Medical Discharge Summary or Letter is unavailable, please download the form below for the hospital or physician to complete and submit to us.</p>

          <!-- Attended Physician's Statement Form - Information Box -->
          <div class="document-info-box">
            <div class="document-info-header">
              <h4 class="document-info-title">Attended Physician's Statement Form</h4>
              <button class="download-btn" (click)="downloadForm('total-disability-physician-statement')">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2"/>
                  <polyline points="7,10 12,15 17,10" stroke="currentColor" stroke-width="2"/>
                  <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>
            <p class="document-info-description">This form should be completed by the attending physician to assist in supporting the claim.</p>
          </div>

          <!-- Proof of Total Disability -->
          <div class="document-type">
            <h4 class="document-type-title">Proof of Total Disability</h4>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('total-disability-proof')">
              <input type="file" 
                     id="total-disability-proof-upload" 
                     (change)="onFileSelected($event, 'total-disability-proof')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="total-disability-proof-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['total-disability-proof']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('total-disability-proof', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('total-disability-proof')" class="add-more-files">
              <input type="file" 
                     id="total-disability-proof-upload-more" 
                     (change)="onFileSelected($event, 'total-disability-proof')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="total-disability-proof-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">All medical treatment documents such as Doctor certificate, Radiography report, and all laboratory results.</p>
          </div>

          <!-- Supporting documents -->
          <div class="document-type">
            <h4 class="document-type-title">Supporting documents</h4>
            <h5 class="document-subtitle">Reliable sources such as police reports or news articles</h5>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('total-supporting-documents')">
              <input type="file" 
                     id="total-supporting-documents-upload" 
                     (change)="onFileSelected($event, 'total-supporting-documents')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="total-supporting-documents-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['total-supporting-documents']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('total-supporting-documents', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('total-supporting-documents')" class="add-more-files">
              <input type="file" 
                     id="total-supporting-documents-upload-more" 
                     (change)="onFileSelected($event, 'total-supporting-documents')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="total-supporting-documents-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">Additional documents are required to support the claim event only if the total disability was caused by an accident. Please note that proper report is mandatory if the total disability caused by accident.</p>
          </div>
        </div>

        <!-- Documents for Death claim type -->
        <div class="document-category" *ngIf="selectedClaimType === 'death'">
          <div class="important-note">
            <p><strong>Important note:</strong> If the person passed away within 2 years after being issued or reinstated, please ask the most recent doctor who treated the deceased to complete the attached Attending Physician's Statement (APS) form. This helps us to process the claim faster.</p>
          </div>

          <h3 class="document-category-title">Death related documents</h3>
          <p class="document-description">If you can't find the Proof of Death Attended Physician's Statement, please download the form below for the hospital or physician to fill out and submit back to us.</p>

          <!-- Proof of Death Attended Physician's Statement (Death) - Information Box -->
          <div class="document-info-box">
            <div class="document-info-header">
              <h4 class="document-info-title">Proof of Death Attended Physician's Statement (Death)</h4>
              <button class="download-btn" (click)="downloadForm('death-physician-statement')">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2"/>
                  <polyline points="7,10 12,15 17,10" stroke="currentColor" stroke-width="2"/>
                  <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>
            <p class="document-info-description">To be completed by the last attended doctor/physician for a death that took place.</p>
          </div>

          <!-- Proof of cause of death -->
          <div class="document-type">
            <h4 class="document-type-title">Proof of cause of death (Medical certificate or Attending Physician Statement)</h4>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('death-cause-proof')">
              <input type="file" 
                     id="death-cause-proof-upload" 
                     (change)="onFileSelected($event, 'death-cause-proof')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="death-cause-proof-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['death-cause-proof']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('death-cause-proof', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('death-cause-proof')" class="add-more-files">
              <input type="file" 
                     id="death-cause-proof-upload-more" 
                     (change)="onFileSelected($event, 'death-cause-proof')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="death-cause-proof-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">This form must be completed by the attending physician to verify death.</p>
          </div>

          <!-- Medical treatment documents -->
          <div class="document-type">
            <h4 class="document-type-title">Medical treatment documents</h4>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('death-medical-documents')">
              <input type="file" 
                     id="death-medical-documents-upload" 
                     (change)="onFileSelected($event, 'death-medical-documents')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="death-medical-documents-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['death-medical-documents']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('death-medical-documents', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('death-medical-documents')" class="add-more-files">
              <input type="file" 
                     id="death-medical-documents-upload-more" 
                     (change)="onFileSelected($event, 'death-medical-documents')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="death-medical-documents-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">Documents like hospital certificate, histopathology report, and all laboratory results.</p>
          </div>

          <!-- Certified true copy of Death Certificate -->
          <div class="document-type">
            <h4 class="document-type-title">Certified true copy of Death Certificate</h4>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('death-certificate')">
              <input type="file" 
                     id="death-certificate-upload" 
                     (change)="onFileSelected($event, 'death-certificate')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="death-certificate-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['death-certificate']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('death-certificate', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('death-certificate')" class="add-more-files">
              <input type="file" 
                     id="death-certificate-upload-more" 
                     (change)="onFileSelected($event, 'death-certificate')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="death-certificate-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">Issued by the competent authorities (Commune/Sangkat).</p>
          </div>

          <!-- Supporting documents -->
          <div class="document-type">
            <h4 class="document-type-title">Supporting documents</h4>
            <h5 class="document-subtitle">Reliable sources such as police reports or news articles</h5>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('death-supporting-documents')">
              <input type="file" 
                     id="death-supporting-documents-upload" 
                     (change)="onFileSelected($event, 'death-supporting-documents')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="death-supporting-documents-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['death-supporting-documents']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('death-supporting-documents', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('death-supporting-documents')" class="add-more-files">
              <input type="file" 
                     id="death-supporting-documents-upload-more" 
                     (change)="onFileSelected($event, 'death-supporting-documents')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="death-supporting-documents-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">Additional documents are required to support the claim event only if the death was caused by an accident. Please note that proper report is mandatory if the death caused by accident.</p>
          </div>
        </div>

        <!-- Documents for Critical illness claim type -->
        <div class="document-category" *ngIf="selectedClaimType === 'critical-illness'">
          <h3 class="document-category-title">Medical documents</h3>
          <p class="document-description">Upload all necessary documents or the Attending Physicians Statement Form below.</p>

          <!-- Attended Physician's Statement Form -->
          <div class="document-type">
            <h4 class="document-type-title">Attended Physician's Statement Form</h4>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('critical-physician-statement')">
              <input type="file" 
                     id="critical-physician-statement-upload" 
                     (change)="onFileSelected($event, 'critical-physician-statement')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="critical-physician-statement-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['critical-physician-statement']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('critical-physician-statement', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('critical-physician-statement')" class="add-more-files">
              <input type="file" 
                     id="critical-physician-statement-upload-more" 
                     (change)="onFileSelected($event, 'critical-physician-statement')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="critical-physician-statement-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">This form should be completed by the attending physician to assist in supporting the claim.</p>
            
            <div class="form-note">
              <p>If you are uploading a specific form, please choose any downloadable form provided below.</p>
              <div class="downloadable-forms-section">
                <button class="expandable-btn" (click)="toggleDownloadableForms()">
                  <div class="arrow-container" [class.expanded]="isDownloadableFormsExpanded">
                    <svg class="arrow-icon" width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="#EC6453" stroke-width="2" fill="none"/>
                      <path d="M8 12l4 4 4-4" stroke="#EC6453" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </div>
                  View downloadable forms
                </button>
                
                <div class="downloadable-forms-content" [class.expanded]="isDownloadableFormsExpanded">
                  <div class="form-categories">
                    <div class="category-buttons">
                      <button class="category-btn" 
                              [class.active]="selectedFormCategory === 'aps'" 
                              (click)="selectFormCategory('aps')">
                        APS form
                      </button>
                      <button class="category-btn" 
                              [class.active]="selectedFormCategory === 'brain'" 
                              (click)="selectFormCategory('brain')">
                        Brain
                      </button>
                      <button class="category-btn" 
                              [class.active]="selectedFormCategory === 'cancer'" 
                              (click)="selectFormCategory('cancer')">
                        Cancer
                      </button>
                      <button class="category-btn" 
                              [class.active]="selectedFormCategory === 'heart'" 
                              (click)="selectFormCategory('heart')">
                        Heart
                      </button>
                      <button class="category-btn" 
                              [class.active]="selectedFormCategory === 'kidney'" 
                              (click)="selectFormCategory('kidney')">
                        Kidney
                      </button>
                      <button class="category-btn" 
                              [class.active]="selectedFormCategory === 'liver'" 
                              (click)="selectFormCategory('liver')">
                        Liver
                      </button>
                      <button class="category-btn" 
                              [class.active]="selectedFormCategory === 'lung'" 
                              (click)="selectFormCategory('lung')">
                        Lung
                      </button>
                    </div>
                  </div>

                  <div class="downloadable-forms-list">
                    <div class="form-item" *ngFor="let form of getFormsForCategory(selectedFormCategory)">
                      <div class="form-info">
                        <h4 class="form-title">{{ form.title }}</h4>
                      </div>
                      <button class="download-form-btn" (click)="downloadSpecificForm(form.id)">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2"/>
                          <polyline points="7,10 12,15 17,10" stroke="currentColor" stroke-width="2"/>
                          <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2"/>
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Evidence of medical treatment and diagnosis documents -->
          <div class="document-type">
            <h4 class="document-type-title">Evidence of medical treatment and diagnosis documents</h4>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('critical-medical-evidence')">
              <input type="file" 
                     id="critical-medical-evidence-upload" 
                     (change)="onFileSelected($event, 'critical-medical-evidence')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="critical-medical-evidence-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['critical-medical-evidence']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('critical-medical-evidence', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('critical-medical-evidence')" class="add-more-files">
              <input type="file" 
                     id="critical-medical-evidence-upload-more" 
                     (change)="onFileSelected($event, 'critical-medical-evidence')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="critical-medical-evidence-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">This document requires hospital/clinic official stamp and signature of the Attending Physician.</p>
          </div>

          <!-- Pathology reports -->
          <div class="document-type">
            <h4 class="document-type-title">Pathology reports</h4>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('critical-pathology-reports')">
              <input type="file" 
                     id="critical-pathology-reports-upload" 
                     (change)="onFileSelected($event, 'critical-pathology-reports')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="critical-pathology-reports-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['critical-pathology-reports']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('critical-pathology-reports', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('critical-pathology-reports')" class="add-more-files">
              <input type="file" 
                     id="critical-pathology-reports-upload-more" 
                     (change)="onFileSelected($event, 'critical-pathology-reports')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="critical-pathology-reports-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">This document can be a Biopsy Result, MRI, CT Scan, etc.</p>
          </div>

          <!-- Supporting documents -->
          <div class="document-type">
            <h4 class="document-type-title">Supporting documents</h4>
            <h5 class="document-subtitle">Reliable sources such as police reports or news articles</h5>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('critical-supporting-documents')">
              <input type="file" 
                     id="critical-supporting-documents-upload" 
                     (change)="onFileSelected($event, 'critical-supporting-documents')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="critical-supporting-documents-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['critical-supporting-documents']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('critical-supporting-documents', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('critical-supporting-documents')" class="add-more-files">
              <input type="file" 
                     id="critical-supporting-documents-upload-more" 
                     (change)="onFileSelected($event, 'critical-supporting-documents')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="critical-supporting-documents-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">Additional documents are required to support the claim event only if the death was caused by an accident. Please note that proper report is mandatory if the death caused by accident.</p>
          </div>
        </div>

        <!-- Documents for Accidental Partial Disability claim type -->
        <div class="document-category" *ngIf="selectedClaimType === 'accidental-partial-disability'">

          <h4 class="document-category-title">Medical documents</h4>
          <p class="document-description">If the Medical Discharge Summary or Letter is unavailable, please download the form below for the hospital or physician to complete and submit to us.</p>

          <!-- Attended Physician's Statement Form - Information Box -->
          <div class="document-info-box">
            <div class="document-info-header">
              <h4 class="document-info-title">Attended Physician's Statement Form</h4>
              <button class="download-btn" (click)="downloadForm('accidental-physician-statement')">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2"/>
                  <polyline points="7,10 12,15 17,10" stroke="currentColor" stroke-width="2"/>
                  <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>
            <p class="document-info-description">This form should be completed by the attending physician to assist in supporting the claim.</p>
          </div>

          <!-- Proof of Total Disability -->
          <div class="document-type">
            <h4 class="document-type-title">Proof of Total Disability</h4>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('accidental-disability-proof')">
              <input type="file" 
                     id="accidental-disability-proof-upload" 
                     (change)="onFileSelected($event, 'accidental-disability-proof')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="accidental-disability-proof-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['accidental-disability-proof']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('accidental-disability-proof', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('accidental-disability-proof')" class="add-more-files">
              <input type="file" 
                     id="accidental-disability-proof-upload-more" 
                     (change)="onFileSelected($event, 'accidental-disability-proof')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="accidental-disability-proof-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">All medical treatment documents such as Doctor certificate, Radiography report, and all laboratory results.</p>
          </div>

          <!-- Supporting documents -->
          <div class="document-type">
            <h4 class="document-type-title">Supporting documents</h4>
            <h5 class="document-subtitle">Reliable sources such as police reports or news articles</h5>
            
            <div class="file-upload-area" *ngIf="!hasUploadedFiles('accidental-supporting-documents')">
              <input type="file" 
                     id="accidental-supporting-documents-upload" 
                     (change)="onFileSelected($event, 'accidental-supporting-documents')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="accidental-supporting-documents-upload" class="upload-label">
                <div class="upload-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="upload-text">Choose file</span>
              </label>
            </div>

            <div *ngFor="let file of uploadedFiles['accidental-supporting-documents']; let i = index" class="document-item">
              <div class="document-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="document-info">
                <div class="document-name">{{ file.name }}</div>
                <div class="document-size">{{ formatFileSize(file.size) }}</div>
              </div>
              <button class="remove-file-btn" (click)="removeFile('accidental-supporting-documents', i)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>

            <div *ngIf="hasUploadedFiles('accidental-supporting-documents')" class="add-more-files">
              <input type="file" 
                     id="accidental-supporting-documents-upload-more" 
                     (change)="onFileSelected($event, 'accidental-supporting-documents')" 
                     multiple 
                     accept=".pdf,.jpg,.jpeg,.png"
                     style="display: none;">
              <label for="accidental-supporting-documents-upload-more" class="add-more-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2"/>
                  <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Choose file
              </label>
            </div>

            <p class="document-note">Additional documents are required to support the claim event only if the total disability was caused by an accident. Please note that police report is mandatory if the total disability caused by accident.</p>
          </div>
        </div>
        </div>
      </div>

    <!-- Step 4: Review Claim -->
    <div *ngIf="currentStep === 4">
      <div class="review-header">
        <h2 class="section-title">Review your claim</h2>
      </div>

      <!-- Your Information Section -->
      <div class="review-section">
        <h3 class="review-section-title">Your information</h3>
        
        <div class="review-info-grid">
          <div class="review-info-item">
            <label class="review-label">Insured person</label>
            <div class="review-value">{{ userInfo.insuredName }}</div>
          </div>
          
          <div class="review-info-item">
            <label class="review-label">Contact number</label>
            <div class="review-value">{{ userInfo.contactNumber }}</div>
          </div>
        </div>

        <div class="review-payment-section">
          <h4 class="review-subsection-title">Payment information</h4>
          <div class="review-info-grid">
            <div class="review-info-item">
              <label class="review-label">Bank name</label>
              <div class="review-value">{{ paymentInfo.bankName }}</div>
            </div>
            
            <div class="review-info-item">
              <label class="review-label">Bank account number</label>
              <div class="review-value">{{ paymentInfo.bankAccountNumber }}</div>
            </div>
          </div>
          
          <div class="review-info-item">
            <label class="review-label">Holder's name</label>
            <div class="review-value">{{ paymentInfo.accountHolderName }}</div>
          </div>
        </div>
      </div>

      <!-- Claim Event Information Section -->
      <div class="review-section">
        <h3 class="review-section-title">Claim event information</h3>
        
        <div class="review-info-grid">
          <div class="review-info-item">
            <label class="review-label">Event type</label>
            <div class="review-value">{{ getSelectedClaimTypeName() }}</div>
          </div>
          
          <!-- Medicash specific details -->
          <div *ngIf="selectedClaimType === 'medicash'">
            <div class="review-info-item">
              <label class="review-label">Start of hospital stay</label>
              <div class="review-value">{{ eventDetails.startDate | date:'dd/MM/yyyy' }}</div>
            </div>
            <div class="review-info-item">
              <label class="review-label">End of hospital stay</label>
              <div class="review-value">{{ eventDetails.endDate | date:'dd/MM/yyyy' }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Reason for hospital stay</label>
              <div class="review-value">{{ eventDetails.reason }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Symptoms</label>
              <div class="review-value">{{ eventDetails.symptoms }}</div>
            </div>
          </div>

          <!-- Critical illness specific details -->
          <div *ngIf="selectedClaimType === 'critical-illness'">
            <div class="review-info-item">
              <label class="review-label">Diagnosis date/Accident date</label>
              <div class="review-value">{{ criticalIllnessDetails.diagnosisDate | date:'dd/MM/yyyy' }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Diagnosis/nature of accident</label>
              <div class="review-value">{{ criticalIllnessDetails.diagnosis }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Symptoms description</label>
              <div class="review-value">{{ criticalIllnessDetails.symptoms }}</div>
            </div>
          </div>

          <!-- Accidental partial disability specific details -->
          <div *ngIf="selectedClaimType === 'accidental-partial-disability'">
            <div class="review-info-item">
              <label class="review-label">Date for partial disability</label>
              <div class="review-value">{{ accidentalDisabilityDetails.accidentDate | date:'dd/MM/yyyy' }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Reason for partial disability</label>
              <div class="review-value">{{ accidentalDisabilityDetails.reason }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Disability details</label>
              <div class="review-value">{{ accidentalDisabilityDetails.disabilityDetails }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Employment status</label>
              <div class="review-value">{{ getEmploymentStatusDisplay() }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Main duties before being disabled</label>
              <div class="review-value">{{ accidentalDisabilityDetails.mainDuties }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Activities you can no longer do</label>
              <div class="review-value">{{ accidentalDisabilityDetails.activities }}</div>
            </div>
          </div>

          <!-- Total disability specific details -->
          <div *ngIf="selectedClaimType === 'total-disability'">
            <div class="review-info-item">
              <label class="review-label">Accident/Diagnosis date</label>
              <div class="review-value">{{ totalDisabilityDetails.accidentDate | date:'dd/MM/yyyy' }}</div>
            </div>
            <div class="review-info-item">
              <label class="review-label">Date of total disability started</label>
              <div class="review-value">{{ totalDisabilityDetails.disabilityStartDate | date:'dd/MM/yyyy' }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Reason for total disability</label>
              <div class="review-value">{{ totalDisabilityDetails.reason }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Cause of total disability</label>
              <div class="review-value">{{ totalDisabilityDetails.cause === 'accidental' ? 'Accidental' : 'Non-accidental' }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Disability details</label>
              <div class="review-value">{{ totalDisabilityDetails.disabilityDetails }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Employment status</label>
              <div class="review-value">{{ getTotalDisabilityEmploymentStatusDisplay() }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Occupation</label>
              <div class="review-value">{{ totalDisabilityDetails.occupation }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Main duties before being disabled</label>
              <div class="review-value">{{ totalDisabilityDetails.mainDuties }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Activities you can no longer do</label>
              <div class="review-value">{{ totalDisabilityDetails.activities }}</div>
            </div>
          </div>

          <!-- Death specific details -->
          <div *ngIf="selectedClaimType === 'death'">
            <div class="review-info-item">
              <label class="review-label">Date of death</label>
              <div class="review-value">{{ deathDetails.dateOfDeath | date:'dd/MM/yyyy' }}</div>
            </div>
            <div class="review-info-item">
              <label class="review-label">Date of diagnosis or accident</label>
              <div class="review-value">{{ deathDetails.diagnosisAccidentDate | date:'dd/MM/yyyy' }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Cause of death</label>
              <div class="review-value">{{ deathDetails.cause === 'accidental' ? 'Accidental' : 'Non-accidental' }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Description of what happened</label>
              <div class="review-value">{{ deathDetails.description }}</div>
            </div>
            <div class="review-info-item full-width">
              <label class="review-label">Symptoms description</label>
              <div class="review-value">{{ deathDetails.symptoms }}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Documents Section -->
      <div class="review-section">
        <h3 class="review-section-title">
          Documents
        </h3>

        <div class="documents-section">
          <!-- Show uploaded documents based on claim type -->
          <div class="document-category" *ngIf="selectedClaimType === 'medicash'">
            
            <!-- Medical Discharge Summary/Letter -->
            <div class="document-type" *ngIf="hasUploadedFiles('medical-discharge')">
              <h4 class="document-category-title">Medical Discharge Summary/Letter</h4>
              <div *ngFor="let file of uploadedFiles['medical-discharge']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>

            <!-- Hospital Receipt/Invoice -->
            <div class="document-type" *ngIf="hasUploadedFiles('hospital-receipt')">
              <h4 class="document-category-title">Hospital Receipt/Invoice</h4>
              <div *ngFor="let file of uploadedFiles['hospital-receipt']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>

            <!-- Attended Physician's Statement Form -->
            <div class="document-type" *ngIf="hasUploadedFiles('physician-statement')">
              <h4 class="document-category-title">Attended Physician's Statement Form</h4>
              <div *ngFor="let file of uploadedFiles['physician-statement']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>

            <!-- Supporting Documents -->
            <div class="document-type" *ngIf="hasUploadedFiles('supporting-documents')">
              <h4 class="document-category-title">Supporting Documents</h4>
              <div *ngFor="let file of uploadedFiles['supporting-documents']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Documents for Critical illness claim type -->
          <div class="document-category" *ngIf="selectedClaimType === 'critical-illness'">
            
            <!-- Attended Physician's Statement Form -->
            <div class="document-type" *ngIf="hasUploadedFiles('critical-physician-statement')">
              <h4 class="document-category-title">Attended Physician's Statement Form</h4>
              <div *ngFor="let file of uploadedFiles['critical-physician-statement']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>

            <!-- Evidence of medical treatment and diagnosis documents -->
            <div class="document-type" *ngIf="hasUploadedFiles('critical-medical-evidence')">
              <h4 class="document-category-title">Evidence of medical treatment and diagnosis documents</h4>
              <div *ngFor="let file of uploadedFiles['critical-medical-evidence']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>

            <!-- Pathology reports -->
            <div class="document-type" *ngIf="hasUploadedFiles('critical-pathology-reports')">
              <h4 class="document-category-title">Pathology reports</h4>
              <div *ngFor="let file of uploadedFiles['critical-pathology-reports']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>

            <!-- Supporting Documents -->
            <div class="document-type" *ngIf="hasUploadedFiles('critical-supporting-documents')">
              <h4 class="document-category-title">Supporting Documents</h4>
              <div *ngFor="let file of uploadedFiles['critical-supporting-documents']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Documents for Total disability claim type -->
          <div class="document-category" *ngIf="selectedClaimType === 'total-disability'">
            
            <!-- Attended Physician's Statement Form -->
            <div class="document-type" *ngIf="hasUploadedFiles('total-physician-statement')">
              <h4 class="document-category-title">Attended Physician's Statement Form</h4>
              <div *ngFor="let file of uploadedFiles['total-physician-statement']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>

            <!-- Proof of Total Disability -->
            <div class="document-type" *ngIf="hasUploadedFiles('total-disability-proof')">
              <h4 class="document-category-title">Proof of Total Disability</h4>
              <div *ngFor="let file of uploadedFiles['total-disability-proof']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>

            <!-- Supporting Documents -->
            <div class="document-type" *ngIf="hasUploadedFiles('total-supporting-documents')">
              <h4 class="document-category-title">Supporting Documents</h4>
              <div *ngFor="let file of uploadedFiles['total-supporting-documents']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Documents for Death claim type -->
          <div class="document-category" *ngIf="selectedClaimType === 'death'">
            
            <!-- Proof of cause of death -->
            <div class="document-type" *ngIf="hasUploadedFiles('death-cause-proof')">
              <h4 class="document-category-title">Proof of cause of death (Medical certificate or Attending Physician Statement)</h4>
              <div *ngFor="let file of uploadedFiles['death-cause-proof']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>

            <!-- Medical treatment documents -->
            <div class="document-type" *ngIf="hasUploadedFiles('death-medical-documents')">
              <h4 class="document-category-title">Medical treatment documents</h4>
              <div *ngFor="let file of uploadedFiles['death-medical-documents']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>

            <!-- Certified true copy of Death Certificate -->
            <div class="document-type" *ngIf="hasUploadedFiles('death-certificate')">
              <h4 class="document-category-title">Certified true copy of Death Certificate</h4>
              <div *ngFor="let file of uploadedFiles['death-certificate']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>

            <!-- Supporting Documents -->
            <div class="document-type" *ngIf="hasUploadedFiles('death-supporting-documents')">
              <h4 class="document-category-title">Supporting Documents</h4>
              <div *ngFor="let file of uploadedFiles['death-supporting-documents']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Documents for Accidental Partial Disability claim type -->
          <div class="document-category" *ngIf="selectedClaimType === 'accidental-partial-disability'">
            
            <!-- Attended Physician's Statement Form -->
            <div class="document-type" *ngIf="hasUploadedFiles('accidental-physician-statement')">
              <h4 class="document-category-title">Attended Physician's Statement Form</h4>
              <div *ngFor="let file of uploadedFiles['accidental-physician-statement']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>

            <!-- Proof of Total Disability -->
            <div class="document-type" *ngIf="hasUploadedFiles('accidental-disability-proof')">
              <h4 class="document-category-title">Proof of Total Disability</h4>
              <div *ngFor="let file of uploadedFiles['accidental-disability-proof']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>

            <!-- Supporting Documents -->
            <div class="document-type" *ngIf="hasUploadedFiles('accidental-supporting-documents')">
              <h4 class="document-category-title">Supporting Documents</h4>
              <div *ngFor="let file of uploadedFiles['accidental-supporting-documents']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Documents for other claim types -->
          <div class="document-category" *ngIf="selectedClaimType !== 'medicash' && selectedClaimType !== 'critical-illness' && selectedClaimType !== 'total-disability' && selectedClaimType !== 'death' && selectedClaimType !== 'accidental-partial-disability'">
            <div class="document-type" *ngIf="hasUploadedFiles('general-documents')">
              <h4 class="document-category-title">Supporting Documents</h4>
              <div *ngFor="let file of uploadedFiles['general-documents']; let i = index" class="document-item">
                <div class="document-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="document-info">
                  <div class="document-name">{{ file.name }}</div>
                  <div class="document-size">{{ formatFileSize(file.size) }}</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Show message if no documents uploaded -->
          <div class="no-documents-message" *ngIf="!hasAnyUploadedFiles()">
            <p>No documents uploaded yet.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Step 2: Claim Event Information -->
    <div *ngIf="currentStep === 2">

        <div class="claim-type-header">
          <h2 class="section-title">Claim type</h2>
          <div class="info-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
              <path d="M9,9h0a3,3,0,0,1,6,0c0,2-3,3-3,3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12,17h0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        
        <div class="claim-types-grid">
          <div class="claim-type-card" 
               *ngFor="let type of claimTypes" 
               [class.selected]="selectedClaimType === type.id"
               (click)="selectClaimType(type.id)">
            <div class="claim-type-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <!-- Medicash -->
                <g *ngIf="type.id === 'medicash'">
                  <rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                  <path d="M9 9h6v6H9z" stroke="currentColor" stroke-width="2"/>
                </g>
                
                <!-- Critical illness -->
                <path *ngIf="type.id === 'critical-illness'" d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" stroke="currentColor" stroke-width="2"/>
                
                <!-- Accidental partial disability -->
                <g *ngIf="type.id === 'accidental-partial-disability'">
                  <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                  <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1" stroke="currentColor" stroke-width="2"/>
                </g>
                
                <!-- Total disability -->
                <g *ngIf="type.id === 'total-disability'">
                  <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                  <path d="M8 12h8" stroke="currentColor" stroke-width="2"/>
                </g>
                
                <!-- Death -->
                <g *ngIf="type.id === 'death'">
                  <rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                  <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                </g>
              </svg>
            </div>
            <span class="claim-type-name">{{ type.name }}</span>
          </div>
        </div>

        <!-- Event Details Form (appears when Medicash is selected) -->
        <div *ngIf="selectedClaimType === 'medicash'" class="event-details-section">
          <h2 class="section-title">Event details</h2>
          
          <div class="form-group">
            <label class="form-label">Start of hospital stay <span class="required">*</span></label>
            <input type="date" class="form-input" [(ngModel)]="eventDetails.startDate">
          </div>

          <div class="form-group">
            <label class="form-label">End of hospital stay <span class="required">*</span></label>
            <input type="date" class="form-input" [(ngModel)]="eventDetails.endDate">
          </div>

          <div class="form-group">
            <label class="form-label">Reason for hospital stay <span class="required">*</span></label>
            <textarea class="form-textarea" 
                      rows="3" 
                      placeholder="Sample description: Sharp pain in my head"
                      [(ngModel)]="eventDetails.reason"></textarea>
          </div>

          <div class="form-group">
            <label class="form-label">Symptoms <span class="required">*</span></label>
            <textarea class="form-textarea" 
                      rows="3" 
                      placeholder="Sample description: Sharp chest pain that spreads to the arm"
                      [(ngModel)]="eventDetails.symptoms"></textarea>
          </div>
        </div>

        <!-- Event Details Form (appears when Critical illness is selected) -->
        <div *ngIf="selectedClaimType === 'critical-illness'" class="event-details-section">
          <h2 class="section-title">Event details</h2>
          
          <div class="form-group">
            <label class="form-label">Diagnosis date/Accident date <span class="required">*</span></label>
            <input type="date" class="form-input" [(ngModel)]="criticalIllnessDetails.diagnosisDate">
          </div>

          <div class="form-group">
            <label class="form-label">Diagnosis/nature of accident <span class="required">*</span></label>
            <input type="text" 
                   class="form-input" 
                   placeholder="ex.: stomach cancer, brain tumor, stroke..."
                   [(ngModel)]="criticalIllnessDetails.diagnosis">
          </div>

          <div class="form-group">
            <label class="form-label">Please describe your symptoms and when they started. <span class="required">*</span></label>
            <textarea class="form-textarea" 
                      rows="4" 
                      placeholder="Sample description: Sharp chest pain that spreads to the arm"
                      [(ngModel)]="criticalIllnessDetails.symptoms"></textarea>
          </div>

          <div class="medical-evidence-note">
            <p>Base on the medical evidence, we will assess to determine either you entitle Early CI or Major CI accordance with your terms & conditions in contract provisions.</p>
          </div>
        </div>

        <!-- Event Details Form (appears when Accidental partial disability is selected) -->
        <div *ngIf="selectedClaimType === 'accidental-partial-disability'" class="event-details-section">
          <h2 class="section-title">Event details</h2>
          
          <div class="form-group">
            <label class="form-label">Accident date <span class="required">*</span></label>
            <input type="date" class="form-input" [(ngModel)]="accidentalDisabilityDetails.accidentDate">
          </div>

          <div class="form-group">
            <label class="form-label">Reason for partial disability <span class="required">*</span></label>
            <textarea class="form-textarea" 
                      rows="3" 
                      placeholder="Sample description: I crashed my motorbike"
                      [(ngModel)]="accidentalDisabilityDetails.reason"></textarea>
          </div>

          <div class="form-group">
            <label class="form-label">Disability details <span class="required">*</span></label>
            <input type="text" 
                   class="form-input" 
                   placeholder="Sample description: loss of arm"
                   [(ngModel)]="accidentalDisabilityDetails.disabilityDetails">
          </div>

          <div class="form-group">
            <label class="form-label">Employment status <span class="required">*</span></label>
            <div class="form-input employment-status-input" (click)="openEmploymentStatusModal()">
              <span [class.placeholder]="!accidentalDisabilityDetails.employmentStatus">
                {{ getEmploymentStatusDisplay() || 'Select an option' }}
              </span>
              <svg class="dropdown-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Describe your main duties before your disability <span class="required">*</span></label>
            <textarea class="form-textarea" 
                      rows="4" 
                      placeholder="Sample description: As a nurse, I use my hands to administer medications, IVs, and other treatments"
                      [(ngModel)]="accidentalDisabilityDetails.mainDuties"></textarea>
          </div>

          <div class="form-group">
            <label class="form-label">List the activities you did before your disability and the ones you can no longer do because of it. <span class="required">*</span></label>
            <textarea class="form-textarea" 
                      rows="4" 
                      placeholder="Describe the activities you could do before and what you can no longer do"
                      [(ngModel)]="accidentalDisabilityDetails.activities"></textarea>
          </div>
        </div>

        <!-- Event Details Form (appears when Total disability is selected) -->
        <div *ngIf="selectedClaimType === 'total-disability'" class="event-details-section">
          <h2 class="section-title">Event details</h2>
          
          <div class="form-group">
            <label class="form-label">Reason for total disability <span class="required">*</span></label>
            <textarea class="form-textarea" 
                      rows="3" 
                      placeholder="Sample description: Sharp chest pain that spreads to the arm"
                      [(ngModel)]="totalDisabilityDetails.reason"></textarea>
          </div>

          <div class="form-group">
            <label class="form-label">Cause of total disability <span class="required">*</span></label>
            <div class="radio-group-vertical">
              <label class="radio-option">
                <input type="radio" name="disabilityCause" value="accidental" [(ngModel)]="totalDisabilityDetails.cause">
                <span class="radio-custom"></span>
                <span class="radio-text">Accidental (e.g., traffic accident, fall, injury)</span>
              </label>
              
              <label class="radio-option">
                <input type="radio" name="disabilityCause" value="non-accidental" [(ngModel)]="totalDisabilityDetails.cause">
                <span class="radio-custom"></span>
                <span class="radio-text">Non-accidental (e.g., illness, medical condition)</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Accident/Diagnosis date <span class="required">*</span></label>
            <input type="date" class="form-input" [(ngModel)]="totalDisabilityDetails.accidentDate">
          </div>

          <div class="form-group">
            <label class="form-label">Date of total disability started <span class="required">*</span></label>
            <input type="date" class="form-input" [(ngModel)]="totalDisabilityDetails.disabilityStartDate">
          </div>

          <div class="form-group">
            <label class="form-label">Disability details <span class="required">*</span></label>
            <input type="text" 
                   class="form-input" 
                   placeholder="Sample description: loss of arm"
                   [(ngModel)]="totalDisabilityDetails.disabilityDetails">
          </div>

          <div class="form-group">
            <label class="form-label">Employment status <span class="required">*</span></label>
            <div class="form-input employment-status-input" (click)="openTotalDisabilityEmploymentStatusModal()">
              <span [class.placeholder]="!totalDisabilityDetails.employmentStatus">
                {{ getTotalDisabilityEmploymentStatusDisplay() || 'Select an option' }}
              </span>
              <svg class="dropdown-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Occupation <span class="required">*</span></label>
            <input type="text" 
                   class="form-input" 
                   placeholder="Enter occupation"
                   [(ngModel)]="totalDisabilityDetails.occupation">
          </div>

          <div class="form-group">
            <label class="form-label">Describe your main duties before your disability <span class="required">*</span></label>
            <textarea class="form-textarea" 
                      rows="4" 
                      placeholder="Sample description: As a nurse, I use my hands to administer medications, IVs, and other treatments"
                      [(ngModel)]="totalDisabilityDetails.mainDuties"></textarea>
          </div>

          <div class="form-group">
            <label class="form-label">List the activities you did before your disability and the ones you can no longer do because of it. <span class="required">*</span></label>
            <textarea class="form-textarea" 
                      rows="4" 
                      placeholder="Describe the activities you could do before and what you can no longer do"
                      [(ngModel)]="totalDisabilityDetails.activities"></textarea>
          </div>
        </div>

        <!-- Event Details Form (appears when Death is selected) -->
        <div *ngIf="selectedClaimType === 'death'" class="event-details-section">
          <h2 class="section-title">Event details</h2>
          
          <div class="form-group">
            <label class="form-label">Date of death <span class="required">*</span></label>
            <input type="date" class="form-input" [(ngModel)]="deathDetails.dateOfDeath">
          </div>

          <div class="form-group">
            <label class="form-label">Cause of death <span class="required">*</span></label>
            <div class="radio-group-vertical">
              <label class="radio-option">
                <input type="radio" name="deathCause" value="accidental" [(ngModel)]="deathDetails.cause">
                <span class="radio-custom"></span>
                <span class="radio-text">Accidental (e.g., traffic accident, fall, injury)</span>
              </label>
              
              <label class="radio-option">
                <input type="radio" name="deathCause" value="non-accidental" [(ngModel)]="deathDetails.cause">
                <span class="radio-custom"></span>
                <span class="radio-text">Non-accidental (e.g., illness, medical condition)</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Date of diagnosis or accident happened <span class="required">*</span></label>
            <input type="date" class="form-input" [(ngModel)]="deathDetails.diagnosisAccidentDate">
          </div>

          <div class="form-group">
            <label class="form-label">Describe what happened leading to the death <span class="required">*</span></label>
            <textarea class="form-textarea" 
                      rows="4" 
                      placeholder="Sample description: I have stage 4 breast cancer"
                      [(ngModel)]="deathDetails.description"></textarea>
          </div>

          <div class="form-group">
            <label class="form-label">Describe symptoms when they started <span class="required">*</span></label>
            <textarea class="form-textarea" 
                      rows="4" 
                      placeholder="Sample description: Sharp chest pain that spreads to the arm"
                      [(ngModel)]="deathDetails.symptoms"></textarea>
          </div>
        </div>
    </div>

    <!-- Next Button -->
    <div class="button-container">
      <button class="next-btn" (click)="onNext()">
        {{ currentStep === 4 ? 'Submit claim' : 'Next' }}
      </button>
    </div>
  </div>

  <!-- Fixed Next Button -->
  <div class="fixed-button-container">
    <button class="next-btn" (click)="onNext()">
      {{ currentStep === 4 ? 'Submit claim' : 'Next' }}
    </button>
  </div>

  <!-- Employment Status Modal -->
  <div class="modal-overlay" *ngIf="showEmploymentStatusModal" (click)="closeEmploymentStatusModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3 class="modal-title">Employment status</h3>
      </div>
      
      <div class="modal-body">
        <div class="employment-option" 
             *ngFor="let option of employmentStatusOptions" 
             [class.selected]="getCurrentEmploymentStatus() === option.value"
             (click)="selectEmploymentStatus(option.value)">
          <span class="option-text">{{ option.label }}</span>
          <div class="check-icon" *ngIf="getCurrentEmploymentStatus() === option.value">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <circle cx="12" cy="12" r="10" fill="#28a745"/>
              <path d="M9 12l2 2 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
      </div>
      
      <div class="modal-footer">
        <button class="modal-select-btn" (click)="confirmEmploymentStatus()">
          Select
        </button>
      </div>
    </div>
  </div>

  <!-- Contact Number Edit Modal -->
  <div class="modal-overlay" *ngIf="showContactEditModal" (click)="closeContactEditModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3 class="modal-title">Edit Contact Number</h3>
      </div>
      
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Contact number</label>
          <input type="tel" 
                 class="form-input" 
                 [(ngModel)]="tempContactNumber" 
                 placeholder="Enter contact number">
        </div>
      </div>
      
      <div class="modal-footer">
        <button class="modal-cancel-btn" (click)="closeContactEditModal()">
          Cancel
        </button>
        <button class="modal-save-btn" (click)="saveContactNumber()">
          Save
        </button>
      </div>
    </div>
  </div>

  <!-- Bank Account Edit Modal -->
  <div class="modal-overlay" *ngIf="showBankEditModal" (click)="closeBankEditModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3 class="modal-title">Edit Bank Account</h3>
      </div>
      
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Bank name</label>
          <input type="text" 
                 class="form-input" 
                 [(ngModel)]="tempPaymentInfo.bankName" 
                 placeholder="Enter bank name">
        </div>
        
        <div class="form-group">
          <label class="form-label">Bank account number</label>
          <input type="text" 
                 class="form-input" 
                 [(ngModel)]="tempPaymentInfo.bankAccountNumber" 
                 placeholder="Enter account number">
        </div>
        
        <div class="form-group">
          <label class="form-label">Account holder's name</label>
          <input type="text" 
                 class="form-input" 
                 [(ngModel)]="tempPaymentInfo.accountHolderName" 
                 placeholder="Enter account holder's name">
        </div>
      </div>
      
      <div class="modal-footer">
        <button class="modal-cancel-btn" (click)="closeBankEditModal()">
          Cancel
        </button>
        <button class="modal-save-btn" (click)="saveBankAccount()">
          Save
        </button>
      </div>
    </div>
  </div>
</div>